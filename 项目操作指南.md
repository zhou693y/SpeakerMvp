# 📘 演讲评分系统 - 项目操作指南

> 本指南详细说明系统的核心功能和操作流程

---

## 🚨 一、会话ID的重要性（必读！）

### ⚠️ 什么是会话ID？

**会话ID是整个评分系统的核心！** 它是一个唯一的标识符，用于区分不同的评分活动。

**示例：** `ptrr10usc8`

### 🎯 为什么会话ID如此重要？

#### 1. 唯一标识一场比赛
- 每个会话ID对应一场独立的演讲比赛
- 不同会话的数据完全隔离，互不干扰
- 一个会话ID = 一场完整的评分活动

#### 2. 评委和演讲者登录的唯一凭证
- **评委必须输入正确的会话ID才能进入评分界面**
- **演讲者必须输入正确的会话ID才能查看成绩**
- **如果会话ID错误，将无法看到任何数据！**

#### 3. 数据同步的核心依据
- 所有评委提交的评分都会关联到这个会话ID
- 管理员查看的评分进度也是基于这个会话ID
- 云端数据通过会话ID进行同步和隔离

### 📝 会话ID使用注意事项

#### ✅ 务必记录会话ID
- 创建会话后，**立即记录会话ID**
- 建议写在纸上或发送到群里
- **丢失会话ID将无法继续该场比赛！**

#### ✅ 准确告知所有参与者
- 比赛开始前，将会话ID告诉所有评委和演讲者
- 可以通过微信群、QQ群等方式发送
- 建议打印出来贴在比赛现场

#### ✅ 区分大小写
- 会话ID区分大小写
- 例如：`ABC123` 和 `abc123` 是不同的会话
- 输入时请仔细核对

#### ✅ 保密性
- 任何人只要有会话ID就能查看数据
- 比赛结束前不要公开会话ID
- 只告诉参与比赛的人员

### 💡 会话ID使用示例

**场景：学校演讲比赛**

**第1步：管理员创建会话**
```
- 登录系统
- 点击"创建新会话"
- 获得会话ID：ptrr10usc8
- 记录在纸上
```

**第2步：告知评委**
```
各位评委老师：
请打开网址：https://你的网站.com
点击"评委"
输入会话ID：ptrr10usc8
输入你的姓名登录
```

**第3步：告知演讲者**
```
各位同学：
比赛结束后可以查看成绩
网址：https://你的网站.com
点击"演讲者"
输入会话ID：ptrr10usc8
输入你的姓名登录
```

---

## 🎫 二、会话管理

### 什么是会话管理？
会话管理用于创建新的评分活动或加入已有的评分活动。

### 两种使用方式

#### 1️⃣ 创建新会话

**使用场景：** 开始一场新的演讲比赛

**操作步骤：**
1. 登录管理员账号
2. 找到"会话管理"区域
3. 点击"创建新会话"按钮
4. 系统自动生成会话ID（例如：`ptrr10usc8`）
5. **重要：立即记录这个会话ID！**
6. 将会话ID告诉所有评委和演讲者

**会话ID显示位置：**
- 页面顶部：`当前会话ID: ptrr10usc8`
- 会话管理面板中

#### 2️⃣ 加入现有会话

**使用场景：**
- 管理员换了设备，需要继续管理之前的会话
- 多个管理员协同管理同一场比赛
- 之前创建的会话还没结束

**操作步骤：**
1. 登录管理员账号
2. 找到"会话管理"区域
3. 在"会话ID"输入框中输入已有的会话ID
4. 点击"加入会话"按钮
5. 系统会加载该会话的所有数据

---

## 👥 三、用户登录方式

### 1️⃣ 管理员登录

**步骤：**
1. 打开系统网址
2. 点击"管理员"按钮
3. 输入账号：xx
4. 输入密码：xxx
5. 点击"登录"按钮

**注意：**
- 管理员账号密码是固定的
- 请妥善保管，不要泄露

### 2️⃣ 评委登录

**步骤：**
1. 打开系统网址
2. 点击"评委"按钮
3. 输入管理员提供的**会话ID**
4. 输入自己的姓名（必须和管理员添加的姓名一致）
5. 点击"登录"按钮

**注意事项：**
- 姓名必须完全匹配，不能有空格或错别字
- 必须等管理员点击"开始评分"后才能看到评分界面
- 如果提示"用户不存在"，请联系管理员确认姓名

### 3️⃣ 演讲者登录

**步骤：**
1. 打开系统网址
2. 点击"演讲者"按钮
3. 输入管理员提供的**会话ID**
4. 输入自己的姓名（必须和管理员添加的姓名一致）
5. 点击"登录"按钮

**注意事项：**
- 姓名必须完全匹配
- 可以查看评分进度和最终成绩
- 如果提示"用户不存在"，请联系管理员

---

## ⚙️ 四、更新设置

### 位置
"系统设置"面板

### 功能说明
更新设置用于保存系统参数的修改。

### ⚠️ 重要：修改后必须点击"更新设置"

**可修改的设置：**
1. **演讲者总数** - 参加演讲的总人数
2. **评委人数** - 参与评分的评委人数

### 操作步骤
1. 修改演讲者总数或评委人数
2. **点击"更新设置"按钮**（必须！）
3. 系统会保存新的设置

### ❌ 常见错误
- 修改了数字但没有点击"更新设置"
- 结果：修改不会生效

### ✅ 正确做法
- 每次修改后都要点击"更新设置"
- 看到提示"设置已更新"才算成功

---

## 🏫 五、班级管理

### 位置
"班级管理"面板

### 班级的作用
- **数据隔离：** 不同班级的数据完全独立
- **快速切换：** 可以管理多个班级的评分活动
- **固定名单：** 固定班级自动加载学生名单

### 系统预设班级
1. **友好101**（37人）
2. **友好102**（40人）
3. **友好103**（27人）

### ⚠️ 重要：选择后必须点击"切换班级"

### 操作步骤

#### 1️⃣ 切换班级
1. 在"当前班级"下拉框中选择班级
2. **点击"切换班级"按钮**（必须！）
3. 等待系统加载该班级的数据

**❌ 常见错误：**
- 只选择了班级，没有点击"切换班级"
- 结果：系统还是使用之前的班级

**✅ 正确做法：**
- 选择班级后，必须点击"切换班级"
- 看到班级信息更新才算成功

#### 2️⃣ 创建新班级
1. 点击"创建新班级"按钮
2. 输入班级名称（例如：2024演讲班）
3. 点击确认
4. 新班级会自动切换为当前班级

#### 3️⃣ 编辑班级名称
1. 点击"编辑班级"按钮
2. 输入新的班级名称
3. 点击确认

**注意：** 固定班级（友好101/102/103）不能编辑名称

#### 4️⃣ 删除班级
1. 点击"删除班级"按钮
2. 确认删除

**注意：**
- 固定班级（友好101/102/103）不能删除
- 删除班级会清除该班级的所有数据

---

## 👥 六、添加用户

### 位置
"用户管理"面板

### 功能说明
添加用户用于导入参与评分活动的人员名单。

### 三种添加方式

#### 方法A：手动添加
1. 在"用户名"输入框中输入姓名
2. 点击"添加用户"按钮
3. 用户会出现在"所有用户"列表中

#### 方法B：批量添加
1. 点击"批量添加用户"按钮
2. 在弹出的文本框中，每行输入一个姓名
3. 点击"确认添加"

#### 方法C：导入Excel表格
1. 准备Excel文件，第一列为姓名
2. 点击"导入Excel表格"按钮
3. 选择Excel文件
4. 系统会自动导入所有姓名

### 🎯 固定班级的特殊规则

#### ✅ 可以向固定班级添加人员
- 友好101/102/103 可以添加新用户
- 使用上述三种方法都可以

#### ❌ 但不可删除固定班级的人员
- 固定班级的用户列表中，删除按钮不可用
- 这是为了保护固定班级的原始数据

#### 💡 如需清空用户
- 切换到其他非固定班级
- 在非固定班级中可以自由删除用户

---

## 🎭 七、角色分配

### 位置
"角色分配"面板

### 两个按钮的功能

#### 1️⃣ 快速分配角色

**按钮名称：** "快速分配角色"

**功能：** 按顺序自动分配演讲者和评委

**使用步骤：**
1. 点击"快速分配角色"按钮
2. 输入演讲者人数（例如：10）
3. 点击确认
4. 系统会自动分配：
   - 前10人 → 演讲者
   - 其余人 → 评委

**适用场景：**
- 用户较多时，手动分配太麻烦
- 不需要特别指定谁是演讲者谁是评委
- 按名单顺序分配即可

**示例：**
```
总共30人，输入演讲者人数：10
结果：
- 前10人成为演讲者
- 后20人成为评委
```

#### 2️⃣ 随机分配

**按钮名称：** "随机分配"

**功能：** 随机选择演讲者和评委

**使用步骤：**
1. 点击"随机分配"按钮
2. 输入演讲者人数（例如：10）
3. 点击确认
4. 系统会随机选择10人作为演讲者，其余为评委

**适用场景：**
- 需要公平随机选择演讲者
- 避免人为指定的偏见
- 抽签式分配

**示例：**
```
总共30人，输入演讲者人数：10
结果：
- 随机选择10人成为演讲者
- 其余20人成为评委
```

### 手动分配角色

如果不想使用自动分配，可以手动指定：
1. 在"所有用户"列表中找到某个用户
2. 点击"设为演讲者"或"设为评委"按钮
3. 用户会移动到对应的列表中

---

## 🎯 八、评分设置

### 位置
"评分设置"面板

### 两种评分方式

#### 1️⃣ 去掉最高最低分求平均值（推荐）⭐

**计算方法：**
- 去掉所有评委中的最高分和最低分
- 剩余分数求平均值

**优点：**
- 更公平，避免极端分数的影响
- 适合评委人数较多（3人以上）

**示例：**
```
5个评委打分：85, 90, 88, 92, 87
去掉最高分92和最低分85
剩余：90, 88, 87
平均值：(90+88+87)/3 = 88.33
```

#### 2️⃣ 取平均分

**计算方法：**
- 所有评委的分数直接求平均值

**优点：**
- 计算简单
- 适合评委人数较少（2人）

**示例：**
```
5个评委打分：85, 90, 88, 92, 87
平均值：(85+90+88+92+87)/5 = 88.4
```

### 评分项目（固定）

每个演讲者需要评6个项目：

| 评分项目 | 满分 | 说明 |
|---------|------|------|
| 📝 讲稿内容 | 40分 | 内容质量、逻辑性、创新性 |
| 🗣️ 语速 | 10分 | 语速适中、节奏把控 |
| ⏸️ 停顿强调 | 10分 | 重点突出、停顿恰当 |
| 💬 流利度 | 15分 | 表达流畅、无卡顿 |
| 👔 衣着形象 | 10分 | 着装得体、仪表端庄 |
| 🙌 肢体语言 | 15分 | 手势自然、表情丰富 |
| **总分** | **100分** | |

### ⚠️ 重要：选择后必须点击"开始评分"

### 操作步骤
1. 选择评分方式（推荐"去掉最高最低分求平均值"）
2. **点击"开始评分"按钮**（必须！）
3. 系统会：
   - 生成评分界面
   - 评委可以开始打分
   - 管理员可以查看评分进度

### ❌ 常见错误
- 选择了评分方式但没有点击"开始评分"
- 结果：评委无法看到评分界面

### ✅ 正确做法
- 选择评分方式后，必须点击"开始评分"
- 看到评分进度面板出现才算成功

---

## ☁️ 九、云端同步设置

### 位置
"云端同步设置"面板

### 功能说明
云端同步用于实时同步评委提交的评分数据到管理员界面。

### 设置项

#### 1. 启用云端轮询
- **默认：** 已启用 ✅
- **功能：** 自动定期从云端获取最新数据
- **建议：** 保持启用状态

#### 2. 轮询频率（秒）
- **默认：** 5秒
- **说明：** 每5秒自动刷新一次数据
- **建议：** 不要修改

### 手动操作

**更新按钮：**
- 功能：立即从云端获取最新数据
- 使用场景：想立即查看评委是否提交了评分

### 同步状态显示
- **同步状态：** 显示当前是否正在同步
- **最后同步：** 显示最后一次同步的时间

### 🎯 一般不建议更改

#### 为什么不建议更改？

**1. 默认设置已经最优**
- 5秒轮询频率既能保证实时性，又不会过度消耗资源
- 自动轮询已启用，无需手动刷新

**2. 修改可能导致问题**
- 轮询频率太快：增加服务器负担，可能被限流
- 轮询频率太慢：数据更新不及时
- 关闭轮询：需要手动刷新，很不方便

**3. 什么时候可以修改？**
- 网络很慢时，可以将轮询频率改为10秒
- 不需要实时查看时，可以暂时关闭轮询
- 测试时可以调整参数

---

## 📊 十、评选管理

### 位置
"评选管理"面板

### 功能说明
评选管理用于控制评分流程和查看评分结果。

### 主要功能

#### 1️⃣ 查看评分进度

**按钮：** "查看评分进度"

**功能：**
- 查看每个评委的提交状态
- 查看每个演讲者被打分的情况
- 实时显示评分完成度

**显示内容：**
```
评分进度：0/2 (0%)

评委提交状态：
✅ 张老师 - 已提交
⏳ 李老师 - 未提交

演讲者评分情况：
刘洋 - 已评分：1/2
王文涛 - 已评分：0/2
```

**使用场景：**
- 比赛进行中，查看哪些评委还没提交
- 提醒未提交的评委
- 确认所有评分是否完成

#### 2️⃣ 查看结果

**按钮：** "查看结果"

**功能：**
- 查看所有演讲者的最终得分
- 查看详细的评分明细
- 自动排名

**显示内容：**
- 演讲者姓名
- 各项评分
- 总分
- 排名

**使用场景：**
- 所有评委提交后，查看最终成绩
- 宣布比赛结果
- 导出成绩单

#### 3️⃣ 导出结果

**按钮：** "导出Excel"

**功能：**
- 将评分结果导出为Excel文件
- 包含所有评分明细

**导出内容：**
- 演讲者姓名
- 各项评分
- 总分
- 排名
- 评委评分明细

**使用场景：**
- 保存成绩记录
- 打印成绩单
- 存档备份

#### 4️⃣ 不保存此次评选

**按钮：** "不保存此次评选"（红色）

**功能：**
- 清除当前会话的所有评分数据
- 不保存到历史记录

**使用场景：**
- 测试评分流程
- 评分出现错误需要重新开始
- 不想保存本次评分记录

**注意：** 这是危险操作，会清除所有评分数据！

---

## ⚠️ 十一、危险操作

### 位置
"危险操作"面板（红色边框）

### 功能说明
这些操作会删除数据，请谨慎使用！

### 危险操作列表

#### 1️⃣ 清除所有用户

**按钮：** "清除所有用户"（红色）

**功能：**
- 删除当前班级的所有用户
- 包括演讲者和评委

**使用场景：**
- 需要重新导入用户名单
- 切换到新的比赛

**注意：**
- 固定班级（友好101/102/103）不能清除用户
- 如需清除，请先切换到其他班级

#### 2️⃣ 清除所有评分

**按钮：** "清除所有评分"（红色）

**功能：**
- 删除当前会话的所有评分数据
- 保留用户名单和角色分配

**使用场景：**
- 评分出现错误需要重新开始
- 测试完成后清除测试数据

**注意：** 此操作不可恢复！

#### 3️⃣ 清除所有数据

**按钮：** "清除所有数据"（红色）

**功能：**
- 删除当前班级的所有数据
- 包括用户、角色、评分等

**使用场景：**
- 完全重新开始
- 清除所有测试数据

**注意：** 这是最危险的操作，会删除所有数据！

### 🚨 使用危险操作前的检查清单

1. ✅ 确认是否真的需要删除数据
2. ✅ 确认已经导出了重要数据
3. ✅ 确认当前班级是否正确
4. ✅ 确认操作后果
5. ✅ 点击按钮前再次确认

---

## 📋 完整操作流程示例

### 比赛前一天

1. **登录系统** - 账号：admin，密码：123456
2. **创建或选择班级** - 点击"切换班级"
3. **添加用户** - 批量导入或手动添加所有参与者
4. **分配角色** - 使用"快速分配"或"随机分配"
5. **测试流程** - 创建测试会话，测试评委打分

### 比赛当天

1. **创建新会话** - 点击"创建新会话"，**记录会话ID！**
2. **告知会话ID** - 将会话ID告诉所有评委和演讲者
3. **选择评分方式** - 选择"去掉最高最低分求平均值"
4. **点击"开始评分"** - 必须点击！
5. **监控评分进度** - 点击"查看评分进度"
6. **查看结果** - 所有评委提交后，点击"查看结果"
7. **导出成绩单** - 点击"导出Excel"

### 比赛结束后

1. **导出数据** - 导出Excel成绩单保存到电脑
2. **查看历史记录** - 可以随时查看之前的评分
3. **清理数据（可选）** - 如果不需要保留，可以清除数据

---

## 💡 常见问题

### Q1：忘记会话ID怎么办？
**A：** 会话ID显示在页面顶部，如果已经关闭页面且完全丢失，只能重新创建会话。

### Q2：评委看不到评分界面？
**A：** 检查：1) 管理员是否点击了"开始评分" 2) 会话ID是否正确 3) 姓名是否正确

### Q3：修改设置后不生效？
**A：** 修改后必须点击"更新设置"按钮！

### Q4：切换班级后数据没变？
**A：** 选择班级后必须点击"切换班级"按钮！

### Q5：固定班级可以删除用户吗？
**A：** 不可以，固定班级的用户不能删除。如需清空，请切换到其他班级。

---

**最后更新：2025年10月11日**

**祝你的演讲比赛圆满成功！** 🎉
