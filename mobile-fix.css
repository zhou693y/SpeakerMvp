/* 手机端专用修复样式 */

/* 防止横向滚动 - 全局设置 */
html {
    overflow-x: hidden !important;
    width: 100%;
    max-width: 100%;
    position: relative;
}

body {
    overflow-x: hidden !important;
    width: 100%;
    max-width: 100%;
    margin: 0 !important;
    padding: 0 !important;
    position: relative;
}

@media (max-width: 768px) {

    /* 确保所有元素不超出屏幕 */
    * {
        max-width: 100%;
        box-sizing: border-box !important;
    }

    html,
    body {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .container {
        overflow-x: hidden !important;
        max-width: 100% !important;
        width: 100% !important;
        padding: 10px !important;
        margin: 0 auto !important;
        box-sizing: border-box !important;
    }

    .section {
        overflow-x: hidden !important;
        max-width: 100% !important;
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding: 15px !important;
        box-sizing: border-box !important;
    }

    header {
        overflow-x: hidden !important;
        max-width: 100% !important;
        width: 100% !important;
        padding: 15px !important;
        box-sizing: border-box !important;
    }

    .admin-panel {
        width: 100% !important;
        max-width: 100% !important;
        overflow-x: hidden !important;
        display: block !important;
        grid-template-columns: 1fr !important;
    }

    .admin-panel>* {
        max-width: 100% !important;
        width: 100% !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
    }

    /* 修复所有可能导致溢出的元素 */
    .system-settings,
    .class-management,
    .user-management,
    .role-assignment,
    .scoring-settings,
    .session-management,
    .session-actions,
    .cloud-sync-settings,
    .danger-zone {
        max-width: 100% !important;
        width: 100% !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* 修复输入框和按钮 */
    input,
    select,
    textarea,
    button {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }

    /* 修复表单布局 */
    .add-user,
    .class-controls,
    .quick-assign-buttons,
    .action-buttons {
        display: flex !important;
        flex-direction: column !important;
        gap: 10px !important;
        width: 100% !important;
    }

    .add-user input,
    .add-user button {
        width: 100% !important;
    }

    /* 表格横向滚动容器 */
    .table-scroll-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        margin: 10px 0;
    }

    .table-scroll-container table {
        min-width: 600px;
        margin: 0;
        font-size: 12px;
    }

    .table-scroll-container th,
    .table-scroll-container td {
        padding: 8px 6px;
        white-space: nowrap;
    }

    /* 滚动提示 */
    .scroll-hint {
        text-align: center;
        color: #718096;
        font-size: 11px;
        padding: 5px;
        background: #f7fafc;
        border-top: 1px solid #e2e8f0;
    }

    /* 优化按钮布局 */
    .results-controls,
    .scoring-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .results-controls .btn,
    .scoring-buttons .btn {
        width: 100%;
        margin: 0;
    }

    /* 评分进度表格优化 */
    .progress-table {
        font-size: 11px;
    }

    .progress-table th,
    .progress-table td {
        padding: 6px 4px;
    }

    /* 评分结果表格优化 */
    .results-table {
        font-size: 12px;
    }

    .results-table th,
    .results-table td {
        padding: 8px 6px;
    }
}

/* 超小屏幕优化 */
@media (max-width: 480px) {
    .table-scroll-container table {
        font-size: 11px;
    }

    .table-scroll-container th,
    .table-scroll-container td {
        padding: 6px 4px;
    }
}